<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CarribCareerHub</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">üå¥ CarribCareerHub</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="jobs.html">Jobs</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
    <!-- Night Mode Toggle -->
    <button id="toggleMode" class="night-toggle">üåô Night Mode</button>
  </header>

  <!-- Hero -->
  <section class="hero">
    <h1>Find Your Dream Job in the Caribbean</h1>
    <p>Search thousands of jobs across the islands üå¥</p>
    <form class="search-form">
      <input type="text" placeholder="Job title or keyword">
      <input type="text" placeholder="Location">
      <button type="submit">Search</button>
    </form>
  </section>

  <!-- Featured Jobs -->
  <section class="featured">
    <h2>Featured Jobs</h2>
    <div id="job-list" class="job-list"></div>
  </section>

  <!-- Footer -->
  <footer>
    <p>¬© <span id="year"></span> CarribCareerHub. All rights reserved.</p>
  </footer>

  <!-- Firebase + Scripts -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBDSczuK0WbVwrR6TYFsThS9Ip6zC892uo",
      authDomain: "carribcareerhub.firebaseapp.com",
      projectId: "carribcareerhub",
      storageBucket: "carribcareerhub.appspot.com",
      messagingSenderId: "227691529661",
      appId: "1:227691529661:web:c66798ab1c62c3a8113ed4",
      measurementId: "G-MDS33JJ2C9"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Auto update year in footer
      document.getElementById("year").textContent = new Date().getFullYear();

      // Load jobs (replace with backend URL when ready)
      const jobList = document.getElementById("job-list");
      if (jobList) {
        fetch("http://localhost:5000/api/jobs")
          .then(res => res.json())
          .then(data => {
            jobList.innerHTML = "";
            data.forEach(job => {
              const card = document.createElement("div");
              card.className = "job-card";
              card.innerHTML = `<h3>${job.title}</h3>
                <p>${job.location}</p>
                <p><strong>${job.company}</strong></p>
                <a href="apply.html">Apply Now</a>`;
              jobList.appendChild(card);
            });
          })
          .catch(() => {
            jobList.innerHTML = "<p>Could not load jobs.</p>";
          });
      }

      // Night mode toggle
      const toggle = document.getElementById("toggleMode");
      toggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        toggle.textContent = document.body.classList.contains("dark-mode")
          ? "‚òÄÔ∏è Light Mode"
          : "üåô Night Mode";
      });
    });
  </script>
</body>
</html>
